<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui">

<h:head>
        <link rel="stylesheet" type="text/css" href="estilos.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" />
</h:head>

<h:body>
        <h1> Registro Alquiler Videotienda</h1>
    <h:form id="FormularioAlquiler" >
        <p:dataTable class="tabla" var="itmRent" value="#{AlquilerItemsBean.consulItemsRentados()}"
        emptyMessage ="No hay items"
                         rows="5" paginator="true">
            <f:facet name="header">
                Items Alquilados
            </f:facet>
            <p:column headerText="Item Rentado">
                <h:outputText value="#{itmRent.item.nombre}"/>
            </p:column>
            <p:column headerText="Fecha Inicio">
                <h:outputText value="#{itmRent.fechainiciorenta}"/>
            </p:column>
            <p:column headerText="Fecha Fin">
                <h:outputText value="#{itmRent.fechafinrenta}"/>
            </p:column>
            <p:column headerText="Multa">
				 <h:outputText value="#{AlquilerItems.multaAlquiler(itmRent.id)}"></h:outputText>
             </p:column>
        </p:dataTable>

        <div class="row">
            <div class="card-panel white lighten-2 formulario col l5 ">
                <h5>Registar Nuevo Alquiler</h5>
                    <div class="input-field col l7 ">
                        <p:inputText id="nombre" value="#{AlquilerItemsBean.idItem}" placeholder="Ingrese el id del item" />
                        <label class="active">Id Item</label>
                    </div>
                    <div class="input-field col l7 ">
                        <p:inputText id="documento" value="#{AlquilerItemsBean.numDias}" placeholder="Ingrese el numero de dias" />
                        <label class="active">Dias</label>
                    </div>
                    <div class="input-field col l7 ">
                        <h:commandButton class="waves-effect red btn-small" id="RegistrarCliente"
                            actionListener="#{AlquilerItemsBean.consultarCosto()}" value="Consultar costo"
                            update=":FormularioAquiler" />
                    </div>
                    <div class="input-field col l7 ">
                        <label>Costo de Alquiler</label>
                        <p:outputLabel value="#{AlquilerItemsBean.costoAlq}" />
                    </div>
                    <div class="input-field col l7 ">
                        <h:commandButton id="RegistrarAlquiler" class="waves-effect red btn-small"
                            actionListener="#{AlquilerItemsBean.registarAlquiler()}" value="Registrar Alquiler"
                            update=":FormularioAlquiler" />
                    </div>
                </div>
            </div>
        </h:form> 
</h:body>

</html>