<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui">

<h:head>
        <link rel="stylesheet" type="text/css" href="estilos.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" />
</h:head>

<h:body>
        <h1> Registro Clientes videotienda </h1>
    <h:form id ="FormularioCliente">
        <p:dataTable class="tabla" var="cliente" value="#{AlquilerItemsBean.consultarClientes()}" rows="10" paginator="true"
            rowkey='#cliente.getDocumento()' dbClickSelected="true">
            <p:ajax event="rowSelect" listener="#{AlquilerItemsBean.seleccionarCliente}" />

            <p:column headerText="Nombre">
                <h:outputText value="#{cliente.getNombre()}" />
            </p:column>

            <p:column headerText="Documento">
                <h:outputText value="#{cliente.getDocumento()}" />
            </p:column>

            <p:column headerText="Telefono">
                <h:outputText value="#{cliente.getTelefono()}" />
            </p:column>

            <p:column headerText="Direccion">
                <h:outputText value="#{cliente.getDireccion()}" />
            </p:column>

            <p:column headerText="Email">
                <h:outputText value="#{cliente.getEmail()}" />
            </p:column>

            <p:column headerText="Vetado">
                <h:outputText value="#{cliente.isVetado()}" />
            </p:column>

            <p:column headerText="Items Rentados">
                <p:commandButton actionListener="#{AlquilerItemsBean.setDocumento(cliente.documento)}" value="Items" action="#{AlquilerItemsBean.seleccionarCliente()}"/>
            </p:column>

        </p:dataTable>

        <div class="row">
            <div class="card-panel white lighten-2 formulario col l5 ">
                <h5>Registar Nuevo Cliente</h5>
                    <div class="input-field col l7 ">
                        <p:inputText id="nombre" value="#{AlquilerItemsBean.nombre}" placeholder="Ingrese el nombre" />
                        <label class="active">Nombre</label>
                    </div>
                    <div class="input-field col l7 ">
                        <p:inputText id="documento" value="#{AlquilerItemsBean.documento}" placeholder="Ingrese el documento" />
                        <label class="active">Documento</label>
                    </div>
                    <div class="input-field col l7 ">
                        <p:inputText id="telefono" value="#{AlquilerItemsBean.telefono}" placeholder="Ingrese el telefono" />
                        <label class="active">Telefono</label>
                    </div>
                    <div class="input-field col l7 ">
                        <p:inputText id="direccion" value="#{AlquilerItemsBean.direccion}" placeholder="ingrese la dirección" />
                        <label class="active">Dirección</label>
                    </div>
                    <div class="input-field col l7 ">
                        <p:inputText id="email" value="#{AlquilerItemsBean.email}" placeholder="Ingrese el email" />
                        <label class="active">Email</label>
                    </div>
                    <div class="input-field col l7 ">
                        <h:commandButton class="waves-effect red btn-small" id="RegistrarCliente"
                            actionListener="#{AlquilerItemsBean.registrarCliente()}" value="Ingresar Nuevo cliente"
                            update=":FormularioCliente" />
                    </div>
                </div>
            </div>
        </h:form> 
</h:body>

</html>